<?phpnamespace Nemundo\Content\Index\Search\Site\Json;use Nemundo\Content\Index\Search\Parameter\SearchQueryParameter;use Nemundo\Content\Index\Search\Reader\SearchItemReader;use Nemundo\Content\Parameter\ContentTypeParameter;use Nemundo\Web\Site\AbstractJsonSite;class ContentSearchJsonSite extends AbstractJsonSite{    /**     * @var ContentSearchJsonSite     */    public static $site;    protected function loadSite()    {        $this->url = 'content-search-json';        ContentSearchJsonSite::$site = $this;    }    protected function loadJson()    {        $queryParameter = new SearchQueryParameter();        $searchReader = new SearchItemReader();        $searchReader->query = $queryParameter->getValue();        $searchReader->paginationLimit = 30;        $contentTypeParameter = new ContentTypeParameter();        $contentTypeParameter->contentTypeCheck = false;        if ($contentTypeParameter->hasValue()) {            $searchReader->addFilterContentType($contentTypeParameter->getContentType());        }        foreach ($searchReader->getData() as $searchItem) {            $data['content_id'] = $searchItem->contentId;            $data['content_type_id'] = $searchItem->contentTypeId;            $data['content_type'] = $searchItem->contentTypeLabel;            $data['subject'] = $searchItem->subject;            $data['text'] = $searchItem->text;            $this->addJsonRow($data);        }    }}