<?phpnamespace Nemundo\Content\Index\Search\Script;use Nemundo\App\Script\Type\AbstractConsoleScript;use Nemundo\Content\Data\Content\ContentReader;use Nemundo\Content\Index\Search\Action\SearchIndexContentAction;use Nemundo\Content\Index\Search\Data\SearchIndex\SearchIndexDelete;use Nemundo\Content\Index\Search\Data\Word\WordDelete;class SearchIndexRepairScript extends AbstractConsoleScript{    protected function loadScript()    {        $this->scriptName = 'searchindex-repair';    }    public function run()    {        (new SearchIndexDelete())->delete();        (new WordDelete())->delete();        $contentReader = new ContentReader();        $contentReader->model->loadContentType();        foreach ($contentReader->getData() as $contentRow) {            $content = $contentRow->getContent();            $action = new SearchIndexContentAction();            $action->addText($content->getSubject());            $action->addText($content->getText());            $action->onAction($content);        }    }}