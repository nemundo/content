<?phpnamespace Nemundo\Content\Index\Geo\Script;use Nemundo\App\Script\Type\AbstractConsoleScript;use Nemundo\Content\Data\Content\ContentReader;use Nemundo\Content\Index\Geo\Action\GeoIndexContentAction;use Nemundo\Content\Index\Geo\Data\GeoContentType\GeoContentTypeReader;use Nemundo\Content\Index\Geo\Data\GeoIndex\GeoIndexDelete;use Nemundo\Core\Debug\Debug;class GeoIndexRepairScript extends AbstractConsoleScript{    protected function loadScript()    {        $this->scriptName = 'geoindex-repair';    }    public function run()    {        (new GeoIndexDelete())->delete();        $geoContentTypeReader = new GeoContentTypeReader();        $geoContentTypeReader->model->loadContentType();        foreach ($geoContentTypeReader->getData() as $geoContentTypeRow) {            $contentReader = new ContentReader();            $contentReader->model->loadContentType();            $contentReader->filter->andEqual($contentReader->model->contentTypeId, $geoContentTypeRow->contentTypeId);            foreach ($contentReader->getData() as $contentRow) {                $content = $contentRow->getContent();                //(new Debug())->write($content->getSubject());                $action = new GeoIndexContentAction();                $action->onAction($content);            }        }    }}