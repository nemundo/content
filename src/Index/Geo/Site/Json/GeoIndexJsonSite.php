<?phpnamespace Nemundo\Content\Index\Geo\Site\Json;use Nemundo\Content\Index\Geo\Data\GeoIndex\GeoIndexReader;use Nemundo\Web\Site\AbstractJsonSite;class GeoIndexJsonSite extends AbstractJsonSite{    /**     * @var GeoIndexJsonSite     */    public static $site;    protected function loadSite()    {        $this->url = 'geo-index-json';        GeoIndexJsonSite::$site = $this;    }    public function loadJson()    {        $reader = new GeoIndexReader();        $reader->model->loadContent();        $reader->model->content->loadContentType();        //$reader->filter->andEqual($reader->model->id, (new GeoIndexParameter())->getValue());        $reader->limit = 10;        $list=[];        foreach ($reader->getData() as $geoIndexRow) {            $coordinate = [];            $coordinate['lat'] = $geoIndexRow->coordinate->latitude;            $coordinate['lon'] = $geoIndexRow->coordinate->longitude;            $data = [];            $data['place'] = $geoIndexRow->place;            $data['coordinate'] = $coordinate;            $list[]=$data;            //$this->addJsonRow($data);        }        $jsonData=[];        $jsonData['BahnhofInfo']=$list;        //$this->addJsonRow($jsonData);        $this->setJsonData($jsonData);        //BahnhofInfo    }}